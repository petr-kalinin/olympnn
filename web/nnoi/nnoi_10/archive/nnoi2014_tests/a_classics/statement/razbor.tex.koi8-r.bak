\input{classics.tex}

\solution

Это довольно простая задача, и основной сложностью здесь было не запутаться при написании решения.
Для этого надо придумать, как бы организовать код как можно проще, чтобы обойтись минимальным количеством случаев и формул.
Один из наиболее простых способов сделать это состоял в следующем.

Рассмотрим по отдельности информацию, которую мы знаем о прыжках Кати, и информацию о прыжках Оли.
Катя за один прыжок прыгает на $A$ плит вперед, и тратит $N$ прыжков, чтобы преодолеть весь участок. 
Определим, какое минимальное и максимальное количество плит могло быть на этом участке,
исходя лишь из этих данных.

Первый и последний прыжки Катя делает с асфальта и на асфальт. Рассматрим остальные $N-2$ прыжка. 
За один прыжок Катя продвигается вперед на $A$ плит, за $N-2$ прыжка "--- на $(N-2)\cdot A$ плит. 
Учитывая ту плиту, на которую первый раз приземлилась Катя, получаем $(N-2)\cdot A+1$ плит между той плитой, 
куда Катя приземлилась первый раз, и той, куда она приземлилась в последний раз, включительно.

Несложно видеть, что это и есть минимальное количество плит, которые могли быть на этом участке.
Действительно, меньше их, очевидно, не могло быть (иначе $N-2$ <<полных>> прыжка не поместились бы), а столько
плит могло быть: Катя просто первым прыжком прыгнула бы на первую из плит, и последним прыжком прыгнула бы
с последней плиты.

Определим теперь, сколько максимально плит могло быть. 
Первым прыжком Катя могла перепрыгнуть не более $A-1$ плит, т.е. в начале дорожки до первого приземления Кати
могла быть максимум $A-1$ плита. 
Аналогично в конце дорожки после последнего приземления Кати тоже могла быть максимум $A-1$ плита.
Итого получаем, что максимальное количество плит равно $(N-2)\cdot A+1+2A-2$.
Также несложно видеть, что любое промежуточное количество плит также возможно.

Итого, исходя лишь из данных о Катиных прыжках, получаем, что искомое количество плит может находиться в пределах
$$
\mbox{от }L_{Kate}=(N-2)\cdot A+1\mbox{\qquad до } R_{Kate}=L_{Kate}+2A-2.
$$

Аналогично рассматривая прыжки Оли, получаем, что количество плит находится в пределах
$$
\mbox{от }L_{Olga}=(M-2)\cdot B+1\mbox{\qquad до } R_{Olga}=L_{Olga}+2B-2.
$$

Очевидно, что, чтобы выполнялись оба условия, количество плит должно находиться в пределах
$$
\mbox{от }L=\max(L_{Kate}, L_{Olga})\mbox{\qquad до } R=\min(R_{Kate},R_{Olga}).
$$

Если $L>R$, то решения нет, иначе плит могло быть произвольное количество от $L$ до $R$. 
Правда, есть особый случай: если получилось $L\leq 0$ (это может быть, если $N=M=1$), то надо явно заменить $L$ на 1. 
Проще всего это сделать, установив $L=1$ перед вычислением максимума.

Кроме того, отметим, что удобнее написать процедуру, обрабатывающую только одну пару чисел, а потом вызвать ее два раза, 
передав ей сначала пару $(A,N)$, а потом $(B,M)$ "--- именно так и сделано в примере программы.

\input{code.tex}  